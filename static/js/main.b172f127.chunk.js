(this.webpackJsonpmy_todo=this.webpackJsonpmy_todo||[]).push([[0],{117:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(25),n=c.n(s),d=(c(66),c(7)),l=c(40),i=c(5),r="CREATE_TODO",o="EDIT_TODO",j="CHANGE_STATUS",b="DELETE_TODO",u="DELETE_ALL_TODOS",O="ADD_COMPLETE_TODO",h="DELETE_COMPLETE_TODO",x="DELETE_ALL_COMPLETE_TODOS",m=Object(a.createContext)(),p=function(){return(new Date).getFullYear()+"/"+(1*(new Date).getMonth()+1+"/")+(new Date).getDate()},g=[{body:"",completedAt:"2021/7/21",createdAt:"2021/7/21",deadline:"2021-07-28T02:02:00.000Z",id:"b0053c8a-56da-489f-9fe9-47b7609a48bb",status:"\u672a\u7740\u624b",title:"(\u4f8b)\u8cb7\u3044\u7269\u306b\u884c\u304f"}],f=[{body:"",completedAt:"2021/7/21",createdAt:"2021/7/21",deadline:"2021-07-27T02:00:48.000Z",id:"ec0dccd3-c773-4e5a-b187-44196417b705",status:"\u672a\u7740\u624b",title:"(\u4f8b)\u9aea\u3092\u5207\u308b"},{body:"",completedAt:"2021/7/21",createdAt:"2021/7/21",deadline:"2021-07-27T02:00:48.000Z",id:"0e6c3690-4097-4478-94d8-d8ad320811eb",status:"\u9032\u884c\u4e2d",title:"(\u4f8b)udemy\u53d7\u8b1b"},{body:"",completedAt:"2021/7/21",createdAt:"2021/7/21",deadline:"2021-08-27T02:00:48.000Z",id:"21fc745f-4af3-46a4-b01a-6af575c961ce",status:"\u672a\u7740\u624b",title:"(\u4f8b)\u65c5\u306b\u51fa\u308b"}],y=c(39),v=c.n(y),N=(c(67),c(57)),D=c(3);Object(y.registerLocale)("ja",N.a);var w=function(e){var t=e.handleChange,c=(e.startDate,e.deadline);return Object(D.jsx)("div",{className:"inline-block m-2",children:Object(D.jsx)(v.a,{locale:"ja",className:"cursor-pointer hover:bg-gray-100 p-1",selected:c,dateFormat:"yyyy/MM/dd",onChange:t,minDate:new Date,default:!0})})},T=function(e){var t=e.handleChange,c=e.startDate;return Object(D.jsx)("div",{className:"inline-block m-2",children:Object(D.jsx)(v.a,{locale:"ja",className:"cursor-pointer bg-blue-100 p-1 rounded-lg",selected:c,dateFormat:"yyyy/MM/dd",onChange:t,minDate:new Date,default:!0})})},A=function(){var e=Object(a.useContext)(m),t=e.state,c=e.dispatch,s=Object(a.useState)(""),n=Object(d.a)(s,2),l=n[0],i=n[1],o=Object(a.useState)(""),j=Object(d.a)(o,2),b=j[0],O=j[1],h=Object(a.useState)("\u672a\u7740\u624b"),x=Object(d.a)(h,2),g=x[0],f=x[1],y=Object(a.useState)(new Date),v=Object(d.a)(y,2),N=v[0],w=v[1],A=Object(a.useState)(new Date),C=Object(d.a)(A,2),E=C[0],k=C[1],S=""===l?"disabled":"";return Object(D.jsxs)("div",{className:"m-8",children:[Object(D.jsx)("h3",{className:"text-2xl",children:"\u65b0\u898f\u4f5c\u6210"}),Object(D.jsxs)("form",{children:[Object(D.jsxs)("div",{className:"inline-block m-4",children:[Object(D.jsx)("label",{htmlFor:"title",children:"\u30bf\u30b9\u30af: "}),Object(D.jsx)("input",{className:"bg-blue-100 rounded-lg p-1",id:"title",value:l,onChange:function(e){return i(e.target.value)}})]}),Object(D.jsxs)("div",{className:"inline-block m-4",children:[Object(D.jsx)("label",{htmlFor:"status",children:"\u72b6\u614b: "}),Object(D.jsxs)("select",{className:"bg-blue-100 rounded-lg p-1",defaultValue:"\u672a\u7740\u624b",onChange:function(e){return f(e.target.value)},children:[Object(D.jsx)("option",{id:"status",value:"\u672a\u7740\u624b",children:"\u672a\u7740\u624b"}),Object(D.jsx)("option",{id:"status",value:"\u9032\u884c\u4e2d",children:"\u9032\u884c\u4e2d"})]})]}),Object(D.jsx)("span",{children:"\u671f\u9650: "}),Object(D.jsx)(T,{startDate:E,handleChange:function(e){w(e),k(e)}}),Object(D.jsxs)("div",{className:"flex justify-end",children:[Object(D.jsx)("button",{className:"text-md ml-8 disabled:opacity-50 bg-blue-600 text-white rounded-lg p-1 px-8 ",disabled:S,onClick:function(e){e.preventDefault(),c({type:r,title:l,body:b,status:g,deadline:N,createdAt:p()}),i(""),O(""),f("\u672a\u7740\u624b"),w(new Date),k(new Date)},children:"\u65b0\u898f\u4f5c\u6210"}),Object(D.jsx)("button",{className:"text-md ml-8 disabled:opacity-50 bg-red-500 text-white rounded-lg px-2  p-1",onClick:function(e){e.preventDefault(),window.confirm("\u5168\u3066\u306eTODO\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304b\uff1f")&&c({type:u})},disabled:0===t.todos.length,children:"\u5168\u3066\u306eToDo\u3092\u524a\u9664\u3059\u308b"})]})]})]})},C=c(55),E=(c(113),function(e){var t=e.todo,c=e.callback,s=e.reload,n=Object(a.useContext)(m).dispatch,l=Object(a.useState)(t.title),i=Object(d.a)(l,2),r=i[0],u=i[1],h=Object(a.useState)(t.body),x=Object(d.a)(h,1)[0],g=Object(a.useState)(new Date(t.deadline)),f=Object(d.a)(g,2),y=f[0],v=f[1],N=new Date,T=Math.ceil((y.getTime()-N.getTime())/864e5);return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{children:Object(D.jsx)(C.a,{value:r,onChange:u,onSave:function(){n({type:o,id:t.id,title:r,body:x,deadline:y,status:t.status,createdAt:t.createdAt})}})}),Object(D.jsx)("td",{className:"text-center",children:Object(D.jsx)(w,{startDate:N,deadline:y,handleChange:function(e){var c,a=new Date(e);v(a),console.log(y),c={deadline:a},n({type:o,id:t.id,title:r,body:x,deadline:c.deadline,status:t.status,createdAt:t.createdAt})}})}),Object(D.jsxs)("td",{className:"text-center",children:[T,"\u65e5"]}),Object(D.jsx)("td",{className:"text-center",children:Object(D.jsxs)("select",{className:"cursor-pointer hover:bg-gray-100 p-1",defaultValue:t.status,onChange:function(){n({type:j,id:t.id}),c(!0!==s)},children:[Object(D.jsx)("option",{id:"status",value:"\u672a\u7740\u624b",children:"\u672a\u7740\u624b"}),Object(D.jsx)("option",{id:"status",value:"\u9032\u884c\u4e2d",children:"\u9032\u884c\u4e2d"})]})}),Object(D.jsx)("td",{children:Object(D.jsx)("button",{type:"button",className:"text-sm mx-4 m-2 bg-green-500 text-white rounded-lg p-1 px-2  hover:bg-green-700",onClick:function(){n({type:b,id:t.id}),n({type:O,title:t.title,body:t.body,status:t.status,deadline:t.deadline,createdAt:t.createdAt,id:t.id,completedAt:p()})},children:"\u5b8c\u4e86"})}),Object(D.jsx)("td",{children:Object(D.jsx)("button",{type:"button",className:"text-sm mx-4 m-2 bg-red-500 text-white rounded-lg p-1 px-2  hover:bg-red-700",onClick:function(){n({type:b,id:t.id})},children:"\u524a\u9664"})})]})})}),k=function(e){var t=e.status,c=(e.lower,Object(a.useState)(!1)),s=Object(d.a)(c,2),n=s[0],l=s[1],i=Object(a.useContext)(m).state.todos.filter((function(e){return e.status===t}));return Object(D.jsxs)("div",{className:"m-8",children:[Object(D.jsxs)("h3",{className:"text-xl inline-block",children:[t,"\u306eToDo"]}),Object(D.jsxs)("table",{className:"m-4 ",children:[Object(D.jsx)("thead",{className:"",children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{className:"px-4 p-2 w-48",children:"\u30bf\u30b9\u30af"}),Object(D.jsx)("th",{className:"px-4 p-2 w-48 ",children:"\u671f\u9650"}),Object(D.jsx)("th",{className:"px-4 p-2 w-24",children:"\u6b8b\u308a"}),Object(D.jsx)("th",{className:"px-4 p-2 w-24",children:"\u72b6\u614b"})]})}),Object(D.jsx)("tbody",{children:i.map((function(e,t){return Object(D.jsx)(E,{todo:e,callback:l,reload:n},t)}))})]})]})},S=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(A,{}),Object(D.jsx)("hr",{}),Object(D.jsx)(k,{status:"\u672a\u7740\u624b"}),Object(D.jsx)(k,{status:"\u9032\u884c\u4e2d"})]})},_=function(e){var t,c=e.todo,s=Object(a.useContext)(m).dispatch;return Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{children:c.title}),Object(D.jsx)("td",{className:"text-center",children:(t=c.deadline,t.substr(0,10).replace(/-/g,"/"))}),Object(D.jsx)("td",{className:"text-center",children:c.completedAt}),Object(D.jsx)("td",{children:Object(D.jsx)("button",{type:"button",className:"text-sm m-2 bg-green-500 text-white rounded-lg p-1 px-2  hover:bg-green-700",onClick:function(){s({type:h,id:c.id}),s({type:r,title:c.title,body:c.body,status:c.status,deadline:c.deadline,createdAt:c.createdAt,id:c.id})},children:"\u623b\u3059"})}),Object(D.jsx)("td",{children:Object(D.jsx)("button",{type:"button",className:"text-sm m-2 bg-red-500 text-white rounded-lg p-1 px-2  hover:bg-red-700",onClick:function(){s({type:h,id:c.id})},children:"\u524a\u9664"})})]})},L=function(){var e=Object(a.useContext)(m),t=e.state,c=e.dispatch;return Object(D.jsxs)("div",{className:"m-12",children:[Object(D.jsx)("h3",{className:"text-2xl inline-block",children:"\u5b8c\u4e86\u3057\u305fToDo"}),Object(D.jsx)("button",{className:"text-sm ml-8 bg-red-300 text-white rounded-lg p-1 px-2 m-1 hover:bg-red-500",onClick:function(e){e.preventDefault(),window.confirm("\u5168\u3066\u306e\u5b8c\u4e86\u3057\u305fTODO\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304b\uff1f")&&c({type:x})},disabled:0===t.completeTodos.length,children:"\u5168\u3066\u306e\u5b8c\u4e86\u3057\u305fToDo\u3092\u524a\u9664\u3059\u308b"}),Object(D.jsxs)("table",{className:"m-4",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{className:"p-4 w-48",children:"\u30bf\u30b9\u30af"}),Object(D.jsx)("th",{className:"p-4 w-48",children:"\u671f\u9650"}),Object(D.jsx)("th",{className:"p-4 w-24",children:"\u5b8c\u4e86\u65e5"})]})}),Object(D.jsx)("tbody",{children:t.completeTodos.map((function(e,t){return Object(D.jsx)(_,{todo:e},t)}))})]})]})},M=c(58),F=c(29),I=c(125),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:var c={title:t.title,body:t.body,status:t.status,deadline:t.deadline,createdAt:t.createdAt,id:Object(I.a)()};return[].concat(Object(F.a)(e),[c]);case j:var a=e.findIndex((function(e){return e.id===t.id})),s=e.splice(a,1),n=Object(d.a)(s,1),l=n[0],i=e.filter((function(e){return e.id!==t.id}));return"\u672a\u7740\u624b"===l.status?l.status="\u9032\u884c\u4e2d":l.status="\u672a\u7740\u624b",[].concat(Object(F.a)(i),[l]);case o:var O={title:t.title,body:t.body,status:t.status,deadline:t.deadline,createdAt:t.createdAt,id:t.id},h=e.map((function(e){return e.id===t.id?O:e}));return h;case b:return e.filter((function(e){return e.id!==t.id}));case u:return[];default:return e}},P=c(59),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var c={title:t.title,body:t.body,status:t.status,deadline:t.deadline,createdAt:t.createdAt,id:t.id,completedAt:t.completedAt};return[].concat(Object(F.a)(e),[Object(P.a)({},c)]);case h:return e.filter((function(e){return e.id!==t.id}));case x:return[];default:return e}},H=Object(M.a)({todos:J,completeTodos:Z}),R="myToDo",V=function(){var e=localStorage.getItem(R),t=e?JSON.parse(e):{todos:f,completeTodos:g},c=Object(a.useReducer)(H,t),s=Object(d.a)(c,2),n=s[0],r=s[1];return Object(a.useEffect)((function(){localStorage.setItem(R,JSON.stringify(n))}),[n]),Object(D.jsx)(m.Provider,{value:{state:n,dispatch:r},children:Object(D.jsxs)(l.a,{children:[Object(D.jsx)("nav",{className:"bg-blue-400",children:Object(D.jsxs)("ul",{className:"flex p-2 ml-12",children:[Object(D.jsx)("li",{className:"hover:underline p-2 px-4",children:Object(D.jsx)(l.b,{to:"/",children:"Home"})}),Object(D.jsx)("li",{className:"hover:underline p-2 px-4",children:Object(D.jsx)(l.b,{to:"/complete",children:"\u5b8c\u4e86\u3057\u305fToDo"})})]})}),Object(D.jsxs)("div",{className:"m-2",children:[Object(D.jsx)(i.a,{exact:!0,path:"/",component:S}),Object(D.jsx)(i.a,{path:"/todo_app_with_reacthooks",component:S}),Object(D.jsx)(i.a,{path:"/complete",component:L})]})]})})};n.a.render(Object(D.jsx)(V,{}),document.getElementById("root"))},66:function(e,t,c){}},[[117,1,2]]]);
//# sourceMappingURL=main.b172f127.chunk.js.map