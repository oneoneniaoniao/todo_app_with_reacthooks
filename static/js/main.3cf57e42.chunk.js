(this.webpackJsonpmy_todo=this.webpackJsonpmy_todo||[]).push([[0],{117:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(25),s=c.n(n),d=(c(66),c(7)),l=c(40),i=c(5),r="CREATE_TODO",o="EDIT_TODO",j="CHANGE_STATUS",b="DELETE_TODO",u="DELETE_ALL_TODOS",O="ADD_COMPLETE_TODO",h="DELETE_COMPLETE_TODO",x="DELETE_ALL_COMPLETE_TODOS",m=Object(a.createContext)(),p=function(){return(new Date).getFullYear()+"/"+(1*(new Date).getMonth()+1+"/")+(new Date).getDate()},g=c(39),f=c.n(g),v=(c(67),c(57)),y=c(3);Object(g.registerLocale)("ja",v.a);var N=function(e){var t=e.handleChange,c=(e.startDate,e.deadline);return Object(y.jsx)("div",{className:"inline-block m-2",children:Object(y.jsx)(f.a,{locale:"ja",className:"cursor-pointer hover:bg-gray-100 p-1",selected:c,dateFormat:"yyyy/MM/dd",onChange:t,minDate:new Date,default:!0})})},D=function(e){var t=e.handleChange,c=e.startDate;return Object(y.jsx)("div",{className:"inline-block m-2",children:Object(y.jsx)(f.a,{locale:"ja",className:"cursor-pointer bg-blue-100 p-1 rounded-lg",selected:c,dateFormat:"yyyy/MM/dd",onChange:t,minDate:new Date,default:!0})})},w=function(){var e=Object(a.useContext)(m),t=e.state,c=e.dispatch,n=Object(a.useState)(""),s=Object(d.a)(n,2),l=s[0],i=s[1],o=Object(a.useState)(""),j=Object(d.a)(o,2),b=j[0],O=j[1],h=Object(a.useState)("\u672a\u7740\u624b"),x=Object(d.a)(h,2),g=x[0],f=x[1],v=Object(a.useState)(new Date),N=Object(d.a)(v,2),w=N[0],T=N[1],C=Object(a.useState)(new Date),A=Object(d.a)(C,2),E=A[0],S=A[1],k=""===l?"disabled":"";return Object(y.jsxs)("div",{className:"m-8",children:[Object(y.jsx)("h3",{className:"text-2xl",children:"\u65b0\u898f\u4f5c\u6210"}),Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"inline-block m-4",children:[Object(y.jsx)("label",{htmlFor:"title",children:"\u30bf\u30b9\u30af: "}),Object(y.jsx)("input",{className:"bg-blue-100 rounded-lg p-1",id:"title",value:l,onChange:function(e){return i(e.target.value)}})]}),Object(y.jsxs)("div",{className:"inline-block m-4",children:[Object(y.jsx)("label",{htmlFor:"status",children:"\u72b6\u614b: "}),Object(y.jsxs)("select",{className:"bg-blue-100 rounded-lg p-1",defaultValue:"\u672a\u7740\u624b",onChange:function(e){return f(e.target.value)},children:[Object(y.jsx)("option",{id:"status",value:"\u672a\u7740\u624b",children:"\u672a\u7740\u624b"}),Object(y.jsx)("option",{id:"status",value:"\u9032\u884c\u4e2d",children:"\u9032\u884c\u4e2d"})]})]}),Object(y.jsx)("span",{children:"\u671f\u9650: "}),Object(y.jsx)(D,{startDate:E,handleChange:function(e){T(e),S(e)}}),Object(y.jsxs)("div",{className:"flex justify-end",children:[Object(y.jsx)("button",{className:"text-md ml-8 disabled:opacity-50 bg-blue-600 text-white rounded-lg p-1 px-8 ",disabled:k,onClick:function(e){e.preventDefault(),c({type:r,title:l,body:b,status:g,deadline:w,createdAt:p()}),i(""),O(""),f("\u672a\u7740\u624b"),T(new Date),S(new Date)},children:"\u65b0\u898f\u4f5c\u6210"}),Object(y.jsx)("button",{className:"text-md ml-8 disabled:opacity-50 bg-red-500 text-white rounded-lg px-2  p-1",onClick:function(e){e.preventDefault(),window.confirm("\u5168\u3066\u306eTODO\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304b\uff1f")&&c({type:u})},disabled:0===t.todos.length,children:"\u5168\u3066\u306eToDo\u3092\u524a\u9664\u3059\u308b"})]})]})]})},T=c(55),C=(c(113),function(e){var t=e.todo,c=e.callback,n=e.reload,s=Object(a.useContext)(m).dispatch,l=Object(a.useState)(t.title),i=Object(d.a)(l,2),r=i[0],u=i[1],h=Object(a.useState)(t.body),x=Object(d.a)(h,1)[0],g=Object(a.useState)(new Date(t.deadline)),f=Object(d.a)(g,2),v=f[0],D=f[1],w=new Date,C=Math.ceil((v.getTime()-w.getTime())/864e5);return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:Object(y.jsx)(T.a,{value:r,onChange:u,onSave:function(){s({type:o,id:t.id,title:r,body:x,deadline:v,status:t.status,createdAt:t.createdAt})}})}),Object(y.jsx)("td",{className:"text-center",children:Object(y.jsx)(N,{startDate:w,deadline:v,handleChange:function(e){var c,a=new Date(e);D(a),console.log(v),c={deadline:a},s({type:o,id:t.id,title:r,body:x,deadline:c.deadline,status:t.status,createdAt:t.createdAt})}})}),Object(y.jsxs)("td",{className:"text-center",children:[C,"\u65e5"]}),Object(y.jsx)("td",{className:"text-center",children:Object(y.jsxs)("select",{className:"cursor-pointer hover:bg-gray-100 p-1",defaultValue:t.status,onChange:function(){s({type:j,id:t.id}),c(!0!==n)},children:[Object(y.jsx)("option",{id:"status",value:"\u672a\u7740\u624b",children:"\u672a\u7740\u624b"}),Object(y.jsx)("option",{id:"status",value:"\u9032\u884c\u4e2d",children:"\u9032\u884c\u4e2d"})]})}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{type:"button",className:"text-sm mx-4 m-2 bg-green-500 text-white rounded-lg p-1 px-2  hover:bg-green-700",onClick:function(){s({type:b,id:t.id}),s({type:O,title:t.title,body:t.body,status:t.status,deadline:t.deadline,createdAt:t.createdAt,id:t.id,completedAt:p()})},children:"\u5b8c\u4e86"})}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{type:"button",className:"text-sm mx-4 m-2 bg-red-500 text-white rounded-lg p-1 px-2  hover:bg-red-700",onClick:function(){s({type:b,id:t.id})},children:"\u524a\u9664"})})]})})}),A=function(e){var t=e.status,c=(e.lower,Object(a.useState)(!1)),n=Object(d.a)(c,2),s=n[0],l=n[1],i=Object(a.useContext)(m).state.todos.filter((function(e){return e.status===t}));return Object(y.jsxs)("div",{className:"m-8",children:[Object(y.jsxs)("h3",{className:"text-xl inline-block",children:[t,"\u306eToDo"]}),Object(y.jsxs)("table",{className:"m-4 ",children:[Object(y.jsx)("thead",{className:"",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"px-4 p-2 w-48",children:"\u30bf\u30b9\u30af"}),Object(y.jsx)("th",{className:"px-4 p-2 w-48 ",children:"\u671f\u9650"}),Object(y.jsx)("th",{className:"px-4 p-2 w-24",children:"\u6b8b\u308a"}),Object(y.jsx)("th",{className:"px-4 p-2 w-24",children:"\u72b6\u614b"})]})}),Object(y.jsx)("tbody",{children:i.map((function(e,t){return Object(y.jsx)(C,{todo:e,callback:l,reload:s},t)}))})]})]})},E=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{}),Object(y.jsx)("hr",{}),Object(y.jsx)(A,{status:"\u672a\u7740\u624b"}),Object(y.jsx)(A,{status:"\u9032\u884c\u4e2d"})]})},S=function(e){var t,c=e.todo,n=Object(a.useContext)(m).dispatch;return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:c.title}),Object(y.jsx)("td",{className:"text-center",children:(t=c.deadline,t.getFullYear()+"/"+(1*t.getMonth()+1)+"/"+t.getDate())}),Object(y.jsx)("td",{className:"text-center",children:c.completedAt}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{type:"button",className:"text-sm m-2 bg-green-500 text-white rounded-lg p-1 px-2  hover:bg-green-700",onClick:function(){n({type:h,id:c.id}),n({type:r,title:c.title,body:c.body,status:c.status,deadline:c.deadline,createdAt:c.createdAt,id:c.id})},children:"\u623b\u3059"})}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{type:"button",className:"text-sm m-2 bg-red-500 text-white rounded-lg p-1 px-2  hover:bg-red-700",onClick:function(){n({type:h,id:c.id})},children:"\u524a\u9664"})})]})},k=function(e){var t=e.title,c=Object(a.useContext)(m),n=c.state,s=c.dispatch;return Object(y.jsxs)("div",{className:"m-12",children:[Object(y.jsx)("h3",{className:"text-2xl inline-block",children:t}),Object(y.jsx)("button",{className:"text-sm ml-8 bg-red-300 text-white rounded-lg p-1 px-2 m-1 hover:bg-red-500",onClick:function(e){e.preventDefault(),window.confirm("\u5168\u3066\u306e\u5b8c\u4e86\u3057\u305fTODO\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u3066\u3082\u826f\u3044\u3067\u3059\u304b\uff1f")&&s({type:x})},disabled:0===n.completeTodos.length,children:"\u5168\u3066\u306e\u5b8c\u4e86\u3057\u305fToDo\u3092\u524a\u9664\u3059\u308b"}),Object(y.jsxs)("table",{className:"m-4",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"p-4 w-24",children:"\u30bf\u30b9\u30af"}),Object(y.jsx)("th",{className:"p-4 w-24",children:"\u671f\u9650"}),Object(y.jsx)("th",{className:"p-4 w-24",children:"\u5b8c\u4e86\u65e5"})]})}),Object(y.jsx)("tbody",{children:n.completeTodos.map((function(e,t){return Object(y.jsx)(S,{todo:e},t)}))})]})]})},_=c(58),L=c(29),M=c(125),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:var c={title:t.title,body:t.body,status:t.status,deadline:t.deadline,createdAt:t.createdAt,id:Object(M.a)()};return[].concat(Object(L.a)(e),[c]);case j:var a=e.findIndex((function(e){return e.id===t.id})),n=e.splice(a,1),s=Object(d.a)(n,1),l=s[0],i=e.filter((function(e){return e.id!==t.id}));return"\u672a\u7740\u624b"===l.status?l.status="\u9032\u884c\u4e2d":l.status="\u672a\u7740\u624b",[].concat(Object(L.a)(i),[l]);case o:var O={title:t.title,body:t.body,status:t.status,deadline:t.deadline,createdAt:t.createdAt,id:t.id},h=e.map((function(e){return e.id===t.id?O:e}));return h;case b:return e.filter((function(e){return e.id!==t.id}));case u:return[];default:return e}},I=c(59),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var c={title:t.title,body:t.body,status:t.status,deadline:t.deadline,createdAt:t.createdAt,id:t.id,completedAt:t.completedAt};return[].concat(Object(L.a)(e),[Object(I.a)({},c)]);case h:return e.filter((function(e){return e.id!==t.id}));case x:return[];default:return e}},P=Object(_.a)({todos:F,completeTodos:J}),H="myToDo",R=function(){var e=localStorage.getItem(H),t=e?JSON.parse(e):{todos:[],completeTodos:[]},c=Object(a.useReducer)(P,t),n=Object(d.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){localStorage.setItem(H,JSON.stringify(s))}),[s]),Object(y.jsx)(m.Provider,{value:{state:s,dispatch:r},children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)("nav",{className:"bg-blue-400",children:Object(y.jsxs)("ul",{className:"flex p-2 ml-12",children:[Object(y.jsx)("li",{className:"hover:underline p-2 px-4",children:Object(y.jsx)(l.b,{to:"/",children:"Home"})}),Object(y.jsx)("li",{className:"hover:underline p-2 px-4",children:Object(y.jsx)(l.b,{to:"/complete",children:"\u5b8c\u4e86\u3057\u305fToDo"})})]})}),Object(y.jsxs)("div",{className:"m-2",children:[Object(y.jsx)(i.a,{exact:!0,path:"/",component:E}),Object(y.jsx)(i.a,{path:"/complete",component:k})]})]})})};s.a.render(Object(y.jsx)(R,{}),document.getElementById("root"))},66:function(e,t,c){}},[[117,1,2]]]);
//# sourceMappingURL=main.3cf57e42.chunk.js.map